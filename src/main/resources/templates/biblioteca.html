<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Biblioteca</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</head>

<body>

	<div class="container-fluid">
	
	    <div class="row">
	        <div class="col-md-12 col-md-offset-1">
	            <form autocomplete="off" action="#" th:action="@{/adicionarEditarLivro}"
	                  th:object="${livro}" method="post" class="form-horizontal"
	                  role="form">
	                <a class="btn btn-sm btn-default" th:href="@{/}">
	                	<span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span> Voltar
	                </a>
        	        <a class="btn btn-sm btn-default" th:href="@{/biblioteca}">
        	        	<span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Resetar
        	        </a>
	                <h1 th:utext="${titulo}"></h1>
		            <h2 th:utext="${operacao}"></h2>
							 
					<div class="form-group">
	                    <div class="col-sm-9">
	                        <input id="id" type="hidden" th:field="*{id}" readonly="readonly" class="form-control"/>
	                    </div>
	                </div>
	 
	                <div class="form-group">
	                    <div class="col-sm-9">
	                    	<label for="nome" class="col-sm-2 control-label">Nome</label>
	                    	<div  class="col-sm-10">
	                        	<input id="nome" type="text" th:field="*{nome}" placeholder="Nome" class="form-control"/>
	                        	<label th:if="${#fields.hasErrors('nome')}" th:errors="*{nome}" class="control-label text-danger"></label>
	                        </div>
	                    </div>
	                </div>
	
	                <div class="form-group">
	                    <div class="col-sm-9">
	                    	<label for="nome" class="col-sm-2 control-label">Editora</label>
	                    	<div class="col-sm-10">
	                        	<input id="editora" type="text" th:field="*{editora}" placeholder="Editora" class="form-control"/>
	                        	<label th:if="${#fields.hasErrors('editora')}" th:errors="*{editora}" class="text-danger"></label>
	                        </div>
	                    </div>
	                </div>
	                
	                <div class="form-group">
	                    <div class="col-sm-9">
	                    	<label for="nome" class="col-sm-2 control-label">Edição</label>
	                    	<div class="col-sm-10">
	                        	<input id="edicao" type="number" th:field="*{edicao}" placeholder="Edição" class="form-control"/>
	                        	<label th:if="${#fields.hasErrors('edicao')}" th:errors="*{edicao}" class="text-danger"></label>
	                        </div>
	                    </div>
	                </div>
	                
	                <div class="form-group">
	                    <div class="col-sm-9">
	                    	<label for="nome" class="col-sm-2 control-label">Área</label>
	                    	<div class="col-sm-10">
	                        	<input id="area" type="text" th:field="*{area}" placeholder="Area" class="form-control"/>
	                        	<label th:if="${#fields.hasErrors('area')}" th:errors="*{area}" class="text-danger"></label>
	                        </div>
	                    </div>
	                </div>
	                
	                <div class="form-group">
	                    <div class="col-sm-9">
	                    	<label for="nome" class="col-sm-2 control-label">Autor</label>
	                    	<div class="col-sm-10">
	                        	<input id="area" type="text" th:field="*{autor}" placeholder="Autor" class="form-control"/>
	                        	<label th:if="${#fields.hasErrors('autor')}" th:errors="*{autor}" class="text-danger"></label>
	                        </div>
	                    </div>
	                </div>
	                
	                <div class="form-group">
	                    <div class="col-sm-9">
	                    	<label for="nome" class="col-sm-2 control-label">ISBN</label>
	                    	<div class="col-sm-10">
	                        	<input id="area" type="text" th:field="*{isbn}" placeholder="ISBN" class="form-control"/>
	                        	<label th:if="${#fields.hasErrors('isbn')}" th:errors="*{isbn}" class="text-danger"></label>
	                        </div>
	                    </div>
	                </div>
	
	                <div class="form-group">
	                    <div class="col-sm-9">
	                        <button type="submit" class="btn btn-primary btn-block">
	                        	<span th:if="${operacao == 'Adicionar Livro'}" class="glyphicon glyphicon-floppy-disk" aria-hidden="true" th:utext="${operacao}"></span>
	                        	<span th:unless="${operacao == 'Adicionar Livro'}" class="glyphicon glyphicon-pencil" aria-hidden="true" th:utext="${operacao}"></span>
	                        </button>
	                    </div>
	                </div>
	
	                <h2><span class="text-success" th:utext="${mensagem}"></span></h2>
	
	            </form>
	        </div>	        
	        
	    </div>

		<div class="row">
	    <div class="col-md-12 panel panel-default">
	    
			<div class="panel-heading">
				<strong><span class="glyphicon glyphicon-book" aria-hidden="true"></span> Livros</strong>
				<div class="btn-group pull-right" >
					<a class="btn btn-sm btn-warning" th:href="@{/listarPorEditora}">
						<span class="glyphicon glyphicon-list-alt" aria-hidden="true"></span> Listar por Editora
					</a>
				</div>
			</div>
			
			<div class="panel-body">
				<div class="table-responsive">
					<table class="table table-sm table-striped table-hover table-bordered">
						<thead>
							<tr>
								<!-- <th>Id</th> -->
								<th>Nome</th>
								<th>Editora</th>
								<th>Edição</th>
								<th>Área</th>
								<th>Autor</th>
								<th>ISBN</th>
								<th>Remover</th>
								<th>Editar</th>
							</tr>
						</thead>
						<tbody>
							<tr th:each="livro : ${livros}">
								<!-- <td th:text="${livro.id}"></td> -->
								<td th:text="${livro.nome}"></td>
								<td th:text="${livro.editora}"></td>
								<td th:text="${livro.edicao}"></td>
								<td th:text="${livro.area}"></td>
								<td th:text="${livro.autor}"></td>
								<td th:text="${livro.isbn}"></td>
								<td>
									<div class="btn-group">
								   		<a class="btn btn-sm btn-danger" th:href="@{/removerLivro/{id}(id=${livro.id})}">
								   			<span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Remover
								   		</a>
								   </div>
								</td>
								<td>
									<div class="btn-group">
								   		<a class="btn btn-sm btn-info" th:href="@{/editarLivro/{id}(id=${livro.id})}">
								   			<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> Editar
								   		</a>
								   </div>
								</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>
			
			<div class="panel-footer">
				<p th:utext="${livrosCadastrados}"></p>
			</div>
			
		</div>
		</div>
	    
	</div>
</body>
</html>